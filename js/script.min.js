"use strict";function openPopup(){body.classList.add("scroll-hidden"),modal.classList.add("modal-show"),overlay.classList.add("overlay-show"),window.addEventListener("keydown",onEscPress),setFocus(storage)}function setFocus(e){e.name?(fieldName.value=e.name,fieldEmail.focus()):fieldName.focus(),e.email?(fieldEmail.value=e.email,fieldTextarea.focus()):fieldEmail.focus()}function closeModal(){form.reset(),body.classList.remove("scroll-hidden"),modal.classList.remove("modal-show"),overlay.classList.remove("overlay-show"),window.removeEventListener("keydown",onEscPress)}function onEscPress(e){27===e.keyCode&&closeModal()}function scrollDown(){window.location.href="#contacts"}var swiper=new Swiper(".swiper-container",{speed:800,pagination:{el:".swiper-pagination",clickable:!0}}),body=document.querySelector("body"),modalOpen=document.querySelector(".contacts__btn"),modal=document.querySelector(".modal"),overlay=document.querySelector(".modal-overlay"),form=modal.querySelector("form"),fieldName=modal.querySelector("input[name=name]"),fieldEmail=modal.querySelector("input[name=email]"),fieldTextarea=modal.querySelector("[name=question]"),buttonSend=modal.querySelector(".modal__btn"),modalClose=modal.querySelector(".modal__close"),isStorageSupport=!0,storage={name:"",email:""},menuItemContacts=document.querySelector("#contacts");try{storage.name=localStorage.getItem("name"),storage.email=localStorage.getItem("email")}catch(err){isStorageSupport=!1}modalOpen&&modalOpen.addEventListener("click",function(e){e.preventDefault(),openPopup()}),modalClose&&modalClose.addEventListener("click",function(e){e.preventDefault(),closeModal()}),form&&form.addEventListener("submit",function(e){fieldName.value&&fieldEmail.value?isStorageSupport&&(localStorage.setItem("name",fieldName.value),localStorage.setItem("email",fieldEmail.value)):e.preventDefault()}),overlay&&overlay.addEventListener("click",function(e){e.preventDefault(),overlay.classList.contains("overlay-show")&&closeModal()}),menuItemContacts&&menuItemContacts.addEventListener("click",scrollDown);
